import { Poll, PollCandidate, PollParticipant, PollVote, UserRating } from './resources';

export const userPollCollection = collection(Poll, {
  required: ['profileId'],
  auth: 'owner',
  ownership: 'profileId',
  ordering: ['createdAt'],
});

export const userPoll = userPollCollection.member();

export const poll = member(Poll);

export const pollCandidateCollection = collection(PollCandidate, {
  required: ['pollId'],
  ordering: ['createdAt'],
  filtering: ['movieId', 'profileId'],
});

export const pollVoteCollection = collection(PollVote, {
  required: ['pollId'],
  ordering: ['createdAt'],
  filtering: ['movieId', 'profileId'],
});

export const pollParticipantCollection = collection(PollParticipant, {
  required: ['pollId'],
  ordering: ['createdAt'],
});

export const userRatingCollection = collection(UserRating, {
  required: ['profileId'],
  orderingKeys: ['createdAt'],
  filteringKeys: ['movieId'],
});
